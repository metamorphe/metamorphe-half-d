<!-- Shader Code -->
<script id="vertexShader" type="x-shader/x-vertex">
	uniform sampler2D bumpTexture;
	uniform float bumpScale;

	varying float vAmount;
	varying vec2 vUV;

	void main() 
	{ 
		vUV = uv;
		vec4 bumpData = texture2D( bumpTexture, uv );
		
		vAmount = .2126 * bumpData.r + .7152 * bumpData.g + .0722 * bumpData.b; 
		// assuming map is grayscale it doesn't matter if you use r, g, or b.
		
		// move the position along the normal
	    vec3 newPosition = position + normal * bumpScale * vAmount;
		
		gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );
		// console.log("Hello");
	}
</script>

<!-- fragment shader a.k.a. pixel shader -->
<script id="fragmentShader" type="x-shader/x-vertex"> 
	void main() 
	{
		gl_FragColor = vec4(0.2, 0.2, 0.2, 1.0);
	}  
</script>
